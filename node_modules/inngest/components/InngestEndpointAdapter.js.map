{"version":3,"file":"InngestEndpointAdapter.js","names":["scopedOptions: SyncAdapterOptions","fn: Fn"],"sources":["../../src/components/InngestEndpointAdapter.ts"],"sourcesContent":["import type {\n  SyncAdapterOptions,\n  SyncHandlerOptions,\n} from \"./InngestCommHandler.ts\";\n\nexport namespace InngestEndpointAdapter {\n  export const Tag = \"Inngest.EndpointAdapter\" as const;\n\n  // biome-ignore lint/suspicious/noExplicitAny: we don't care about the return\n  export type Fn = (options: SyncHandlerOptions) => any;\n\n  export interface Like extends Fn {\n    readonly [Symbol.toStringTag]: typeof Tag;\n    withOptions: (options: SyncAdapterOptions) => Like;\n  }\n\n  export const create = <TFn extends Fn>(rawFn: TFn): TFn & Like => {\n    const scopedOptions: SyncAdapterOptions = {};\n    const fn: Fn = (options) => rawFn({ ...scopedOptions, ...options });\n\n    return Object.defineProperties(fn, {\n      [Symbol.toStringTag]: { value: Tag },\n\n      withOptions: {\n        value: (options: SyncAdapterOptions) => {\n          Object.assign(scopedOptions, options);\n          return fn;\n        },\n      },\n    }) as TFn & Like;\n  };\n}\n"],"mappings":";;;CAMS,MAAM,oCAAM;mCAUoB,UAA2B;EAChE,MAAMA,gBAAoC,EAAE;EAC5C,MAAMC,MAAU,YAAY,MAAM;GAAE,GAAG;GAAe,GAAG;GAAS,CAAC;AAEnE,SAAO,OAAO,iBAAiB,IAAI;IAChC,OAAO,cAAc,EAAE,OAAO,KAAK;GAEpC,aAAa,EACX,QAAQ,YAAgC;AACtC,WAAO,OAAO,eAAe,QAAQ;AACrC,WAAO;MAEV;GACF,CAAC"}